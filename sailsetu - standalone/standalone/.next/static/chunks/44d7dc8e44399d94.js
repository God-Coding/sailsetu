(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},74886,e=>{"use strict";let t=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},77941,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(74886),l=e.i(31278),r=e.i(69638),c=e.i(75254);let o=(0,c.default)("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]),i=(0,c.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function n(){let[e,c]=(0,s.useState)([]),[n,d]=(0,s.useState)(!0),[p,h]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[u,y]=(0,s.useState)(!1),[b,g]=(0,s.useState)({type:null,message:""});(0,s.useEffect)(()=>{console.log("UI: Fetching app list from /api/app/list..."),fetch("/api/app/list").then(e=>(console.log("UI: Response status:",e.status),e.json())).then(e=>{console.log("UI: Data received:",e),Array.isArray(e)?c(e):console.error("UI: Expected array, got:",e),d(!1)}).catch(e=>{console.error("UI: Fetch Error:",e),d(!1)})},[]);let f=async()=>{if(p&&x){y(!0),g({type:null,message:""});try{let e=await fetch("/api/app/clone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceAppName:p,newAppName:x})}),t=await e.json();e.ok&&t.success?(g({type:"success",message:`Successfully cloned '${p}' to '${x}'.`}),m("")):g({type:"error",message:t.error||"Failed to clone application."})}catch(e){g({type:"error",message:e.message||"An unexpected error occurred."})}finally{y(!1)}}};return(0,t.jsxs)("main",{className:"min-h-screen bg-[#020617] text-slate-100 font-sans flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-[400px] bg-gradient-to-b from-cyan-950/20 to-transparent pointer-events-none"}),(0,t.jsxs)("div",{className:"w-full max-w-2xl bg-slate-900/60 border border-white/10 rounded-3xl p-8 backdrop-blur-xl shadow-2xl relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)("div",{className:"p-4 bg-cyan-500/10 rounded-2xl text-cyan-400",children:(0,t.jsx)(a.Copy,{className:"h-8 w-8"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-extrabold bg-gradient-to-r from-white via-cyan-100 to-cyan-400 bg-clip-text text-transparent",children:"Application Cloner"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Deep copy existing applications to create new templates."})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Source Application"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:p,onChange:e=>h(e.target.value),disabled:n,className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-4 text-white focus:ring-2 focus:ring-cyan-500 outline-none appearance-none disabled:opacity-50",children:[(0,t.jsx)("option",{value:"",children:"-- Select Application Template --"}),e.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]}),n&&(0,t.jsx)(l.Loader2,{className:"absolute right-4 top-4 h-5 w-5 animate-spin text-cyan-500"})]})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(i,{className:"h-6 w-6 text-slate-600 rotate-90 md:rotate-0"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"New Application Name"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"e.g. Active Directory - Corp (Clone)",className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-4 text-white focus:ring-2 focus:ring-cyan-500 outline-none placeholder:text-slate-600"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"New name must be unique."})]}),(0,t.jsxs)("button",{onClick:f,disabled:u||!p||!x,className:"w-full py-4 mt-4 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-cyan-900/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?(0,t.jsx)(l.Loader2,{className:"h-5 w-5 animate-spin"}):(0,t.jsx)(a.Copy,{className:"h-5 w-5"}),u?"Cloning Application...":"Clone Application"]}),b.message&&(0,t.jsxs)("div",{className:`p-4 rounded-xl flex items-start gap-3 border ${"success"===b.type?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-rose-500/10 border-rose-500/20 text-rose-400"}`,children:["success"===b.type?(0,t.jsx)(r.CheckCircle,{className:"h-5 w-5 shrink-0 mt-0.5"}):(0,t.jsx)(o,{className:"h-5 w-5 shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-sm",children:"success"===b.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-sm opacity-90",children:b.message})]})]})]})]})]})}e.s(["default",()=>n],77941)}]);