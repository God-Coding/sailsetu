(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73884,e=>{"use strict";let s=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],73884)},31713,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),l=e.i(31278);let r=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var n=e.i(73884),i=e.i(47163),c=e.i(7717);function o(){let e=(0,a.useRouter)(),{login:o}=(0,c.useSailPoint)(),[d,u]=(0,t.useState)(!1),[m,x]=(0,t.useState)(null),[h,p]=(0,t.useState)({url:"http://localhost:8080/identityiq",username:"spadmin",password:"admin"}),f=async s=>{s.preventDefault(),u(!0),x(null);try{let s=await fetch("/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),t=await s.json();x(t),t.success&&(o(h.url,h.username,h.password),sessionStorage.setItem("sp_auth",JSON.stringify({url:h.url,username:h.username,password:h.password})),setTimeout(()=>{e.push("/dashboard")},1500))}catch(e){x({success:!1,error:e.message||"Failed to contact server"})}finally{u(!1)}};return(0,s.jsxs)("div",{className:"w-full max-w-md mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-2 text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tighter text-white",children:"SailPoint Connector"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Enter your IdentityIQ instance details to verify connectivity."})]}),(0,s.jsx)("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-xl p-6 shadow-2xl",children:(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Instance URL"}),(0,s.jsx)("input",{type:"text",placeholder:"http://localhost:8080/identityiq",required:!0,className:"w-full px-3 py-2 bg-slate-950 border border-slate-800 rounded-md text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/50",value:h.url,onChange:e=>p({...h,url:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Username"}),(0,s.jsx)("input",{type:"text",placeholder:"spadmin",required:!0,className:"w-full px-3 py-2 bg-slate-950 border border-slate-800 rounded-md text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/50",value:h.username,onChange:e=>p({...h,username:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Password"}),(0,s.jsx)("input",{type:"password",placeholder:"•••••",required:!0,className:"w-full px-3 py-2 bg-slate-950 border border-slate-800 rounded-md text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/50",value:h.password,onChange:e=>p({...h,password:e.target.value})})]}),(0,s.jsx)("button",{type:"submit",disabled:d,className:(0,i.cn)("w-full flex items-center justify-center py-2.5 rounded-md font-medium transition-all duration-200",d?"bg-slate-800 text-slate-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white shadow-[0_0_20px_-5px_#2563eb]"),children:d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):"Connect"})]})}),m&&(0,s.jsxs)("div",{className:(0,i.cn)("rounded-xl border p-4 transition-all animate-in fade-in slide-in-from-bottom-4",m.success?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-400"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[m.success?(0,s.jsx)(r,{className:"h-5 w-5 text-emerald-500"}):(0,s.jsx)(n.XCircle,{className:"h-5 w-5 text-red-500"}),(0,s.jsx)("h3",{className:"font-semibold",children:m.success?"Connection Successful":"Connection Failed"})]}),(0,s.jsx)("pre",{className:"mt-2 p-3 bg-slate-950/50 rounded-lg text-xs font-mono overflow-auto max-h-40 text-slate-300",children:JSON.stringify(m,null,2)})]})]})}var d=e.i(37322);function u(){let{user:e,loading:t}=(0,d.useFirebaseAuth)();return t?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-950",children:(0,s.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-indigo-600"})}):e?(0,s.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-24 bg-gradient-to-b from-slate-900 to-slate-950",children:(0,s.jsx)("div",{className:"z-10 max-w-5xl w-full items-center justify-between font-mono text-sm lg:flex",children:(0,s.jsx)(o,{})})}):null}e.s(["default",()=>u],31713)}]);