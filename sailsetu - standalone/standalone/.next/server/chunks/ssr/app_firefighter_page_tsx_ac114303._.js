module.exports=[22588,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(83469),e=a.i(60137);let f=(0,e.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),g=(0,e.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var h=a.i(66384);let i=(0,e.default)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var j=a.i(16106),k=a.i(50944);function l(){let{url:a,username:e,password:l,isAuthenticated:m}=(0,d.useAuth)(),n=(0,k.useRouter)(),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(e),[A,B]=(0,c.useState)("TRAKK"),[C,D]=(0,c.useState)("capability"),[E,F]=(0,c.useState)("super");(0,c.useEffect)(()=>{m||n.push("/")},[m,n]),(0,c.useEffect)(()=>{if(!o||!q)return;let a=setInterval(()=>{let b=q-Date.now();if(b<=0)p(!1),r(null),t("00:00:00"),clearInterval(a);else{let a=Math.floor(b/36e5),c=Math.floor(b%36e5/6e4),d=Math.floor(b%6e4/1e3);t(`${a.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(a)},[o,q]);let G=async()=>{if(u&&y&&A){x(!0);try{let b=[{key:"identityName",value:y},{key:"durationMinutes",value:"60"},{key:"targetApp",value:A},{key:"attributeName",value:C},{key:"attributeValue",value:E}],c=await fetch("/api/workflow/launch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a,username:e,password:l,workflowName:"SetEmergencyAccess",input:b})}),d=await c.json();if(d.success&&d.launchResult&&d.launchResult.attributes){let a=d.launchResult.attributes.find(a=>"expiryTimestamp"===a.key);a&&(r(Number(a.value)),p(!0))}else console.error("Failed to activate",d)}catch(a){console.error(a)}finally{x(!1)}}},H=async()=>{if(y&&A){x(!0);try{let b=[{key:"identityName",value:y},{key:"targetApp",value:A},{key:"attributeName",value:C},{key:"attributeValue",value:E}],c=await fetch("/api/workflow/launch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a,username:e,password:l,workflowName:"RevokeEmergencyAccess",input:b})});(await c.json()).success?(p(!1),r(null),alert("Access Revoked Successfully.")):alert("Failed to revoke access. Please check SailPoint logs.")}catch(a){console.error(a),alert("Error invoking revocation workflow.")}finally{x(!1)}}};return m?(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 text-white font-sans flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[(0,b.jsx)("div",{className:`absolute inset-0 transition-opacity duration-1000 ${o?"opacity-20":"opacity-5"}`,children:(0,b.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-red-900 via-slate-900 to-slate-900 animate-pulse"})}),(0,b.jsxs)("div",{className:"z-10 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center p-4 bg-slate-900 rounded-full border border-slate-700 mb-6 shadow-2xl",children:o?(0,b.jsx)(j.Flame,{className:"h-12 w-12 text-red-500 animate-bounce"}):(0,b.jsx)(h.ShieldAlert,{className:"h-12 w-12 text-slate-400"})}),(0,b.jsx)("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:o?(0,b.jsx)("span",{className:"text-red-500",children:"EMERGENCY MODE ACTIVE"}):"Firefighter Access"}),(0,b.jsx)("p",{className:"text-slate-400",children:o?"All actions are being logged. Access will automatically expire.":"Request temporary administrative privileges for emergency maintenance."})]}),(0,b.jsx)("div",{className:`bg-slate-900/80 backdrop-blur-xl border ${o?"border-red-500/50 shadow-red-900/20":"border-slate-800"} rounded-2xl p-8 shadow-2xl transition-all duration-500`,children:o?(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"text-8xl font-mono font-bold text-red-500 mb-8 tabular-nums tracking-widest drop-shadow-[0_0_15px_rgba(239,68,68,0.5)]",children:s}),(0,b.jsxs)("div",{className:"w-full bg-slate-800 rounded-lg p-4 mb-8 border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-slate-300 mb-2",children:[(0,b.jsx)(i,{className:"text-emerald-500"}),(0,b.jsxs)("span",{children:["Privileges Granted to ",y]})]}),(0,b.jsxs)("div",{className:"text-sm text-slate-500 pl-9 space-y-1",children:[(0,b.jsxs)("p",{children:["Target: ",(0,b.jsx)("span",{className:"text-slate-300",children:A})]}),(0,b.jsxs)("p",{children:["Entitlement: ",(0,b.jsxs)("span",{className:"text-slate-300",children:[C," = ",E]})]})]})]}),(0,b.jsx)("button",{onClick:H,className:"w-full py-4 rounded-xl bg-slate-800 hover:bg-slate-700 border border-slate-600 text-white font-bold transition-all",children:"TERMINATE SESSION"})]}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Target Identity"}),(0,b.jsx)("input",{type:"text",value:y,onChange:a=>z(a.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Application"}),(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-500 outline-none"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Entitlement Name"}),(0,b.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Entitlement Value"}),(0,b.jsx)("input",{type:"text",value:E,onChange:a=>F(a.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-500 outline-none"})]})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Reason for Access"}),(0,b.jsx)("textarea",{value:u,onChange:a=>v(a.target.value),placeholder:"Database outage incident INC-2039...",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-red-500 outline-none h-24 resize-none transition-all placeholder:text-slate-600"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8 p-4 bg-orange-500/10 border border-orange-500/20 rounded-xl",children:[(0,b.jsx)(f,{className:"text-orange-500 shrink-0"}),(0,b.jsx)("div",{className:"text-sm text-orange-200",children:"This action will trigger a security alert. Session limited to 60m."})]}),(0,b.jsx)("button",{onClick:G,disabled:!u||w,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 transition-all ${!u||w?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 text-white shadow-orange-900/20 group"}`,children:w?(0,b.jsx)(g,{className:"animate-spin"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Flame,{className:`${u?"group-hover:animate-pulse":""}`}),"ACTIVATE EMERGENCY ACCESS"]})})]})})]})]}):null}a.s(["default",()=>l],22588)}];

//# sourceMappingURL=app_firefighter_page_tsx_ac114303._.js.map