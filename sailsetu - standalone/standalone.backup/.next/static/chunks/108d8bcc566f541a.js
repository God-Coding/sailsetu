(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},69074,e=>{"use strict";let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],69074)},16961,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(69074),l=e.i(56909),r=e.i(55436),o=e.i(75254);let i=(0,o.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var n=e.i(63209);let d=(0,o.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var c=e.i(90833);let m=[{id:"loginLogo",label:"Login Page Logo",filename:"loginLogo.png"},{id:"TopLogo1",label:"Top Banner Logo",filename:"TopLogo1.png"},{id:"mobilelogo",label:"Mobile Logo",filename:"mobilelogo.png"},{id:"favicon",label:"Favicon",filename:"favicon.ico/png"}];function p(){let[e,o]=(0,s.useState)(""),[p,u]=(0,s.useState)("#003366"),[g,x]=(0,s.useState)("#003366"),[h,b]=(0,s.useState)("#003366"),[y,f]=(0,s.useState)("#004488"),[j,v]=(0,s.useState)({}),[N,w]=(0,s.useState)({}),[k,C]=(0,s.useState)({type:null,message:""}),[S,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{T()},[]);let T=async()=>{P(!0),C({type:"info",message:"Detecting IdentityIQ installation..."});try{let e=await fetch("/api/detect-path"),t=await e.json();t.found&&t.path?(o(t.path),C({type:"success",message:"IdentityIQ installation detected!"})):C({type:"info",message:"Could not auto-detect. Please manually enter the path."})}catch(e){C({type:"error",message:"Failed to run auto-detection."})}finally{P(!1)}},I=async()=>{if(!e)return void C({type:"error",message:"Installation path is required."});P(!0),C({type:"info",message:"Updating CSS..."});try{let t=await fetch("/api/customize-css",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({installPath:e,navbarColor:p,headingColor:g,quicklinkColor:h,hoverColor:y})}),s=await t.json();t.ok?C({type:"success",message:"Successfully updated UI colors!"}):C({type:"error",message:s.error||"Failed to update colors."})}catch(e){C({type:"error",message:"Network error occurred."})}finally{P(!1)}},O=async t=>{t.preventDefault();let s=Object.keys(j);if(0===s.length||!e)return void C({type:"error",message:"Please provide an installation path and select at least one image."});P(!0);try{let t=0;for(let a of s){let s=j[a];C({type:"info",message:`Uploading ${m.find(e=>e.id===a)?.label}...`});let l=new FormData;l.append("file",s),l.append("logoType",a),l.append("installPath",e);let r=await fetch("/api/customize-branding",{method:"POST",body:l});if(r.ok)t++;else{let e=await r.json();throw Error(e.error||`Failed to upload ${a}`)}}C({type:"success",message:`Successfully updated ${t} images!`}),v({}),w({})}catch(e){C({type:"error",message:e.message||"Network error occurred."})}finally{P(!1)}},F=async()=>{if(!e)return void C({type:"error",message:"Installation path is required."});if(confirm("Are you sure you want to restore default colors? This will remove all customizations.")){P(!0),C({type:"info",message:"Restoring defaults..."});try{let t=await fetch("/api/customize-css",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({installPath:e,reset:!0})}),s=await t.json();t.ok?C({type:"success",message:s.message}):C({type:"error",message:s.error||"Failed to reset."})}catch(e){C({type:"error",message:"Network error occurred."})}finally{P(!1)}}};return(0,t.jsx)("div",{className:"min-h-screen bg-slate-950 text-slate-200 p-8 pt-24",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(c.Paintbrush,{className:"h-8 w-8 text-indigo-400"}),"Product Customization"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Customize SailPoint IdentityIQ logos and branding images locally."})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-white/10 rounded-xl p-6 space-y-6 shadow-xl backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"IdentityIQ Installation Path (Webapps Folder)"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>o(e.target.value),placeholder:"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\identityiq",className:"flex-1 bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-600"}),(0,t.jsxs)("button",{type:"button",onClick:T,disabled:S,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg flex items-center gap-2 text-sm font-medium transition-colors border border-white/5",children:[(0,t.jsx)(r.Search,{className:"h-4 w-4"}),"Auto-Detect"]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Create a backup of your images before easier restoration."})]}),(0,t.jsx)("div",{className:"h-px bg-white/10"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Color Branding"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Navbar Background"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"color",value:p,onChange:e=>u(e.target.value),className:"h-10 w-10 rounded border border-slate-700 bg-slate-950 cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>u(e.target.value),className:"flex-1 bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-sm uppercase font-mono"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Headings Color (Access Reviews, etc.)"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"color",value:g,onChange:e=>x(e.target.value),className:"h-10 w-10 rounded border border-slate-700 bg-slate-950 cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:g,onChange:e=>x(e.target.value),className:"flex-1 bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-sm uppercase font-mono"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Quicklinks / Buttons Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"color",value:h,onChange:e=>b(e.target.value),className:"h-10 w-10 rounded border border-slate-700 bg-slate-950 cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>b(e.target.value),className:"flex-1 bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-sm uppercase font-mono"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Hover / Highlighting Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"color",value:y,onChange:e=>f(e.target.value),className:"h-10 w-10 rounded border border-slate-700 bg-slate-950 cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),className:"flex-1 bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-sm uppercase font-mono"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("button",{type:"button",onClick:I,disabled:S,className:"flex-1 py-2.5 px-4 rounded-lg font-medium flex items-center justify-center gap-2 transition-all bg-emerald-600 hover:bg-emerald-500 text-white shadow-lg shadow-emerald-500/20",children:[(0,t.jsx)(c.Paintbrush,{className:"h-4 w-4"}),"Apply Colors"]}),(0,t.jsx)("button",{type:"button",onClick:F,disabled:S,className:"px-4 py-2.5 bg-slate-800 hover:bg-rose-900/50 text-slate-300 hover:text-white rounded-lg font-medium transition-all border border-slate-700 hover:border-rose-700",children:"Restore Defaults"})]})]}),(0,t.jsx)("div",{className:"h-px bg-white/10"}),(0,t.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Target Images (Select multiple to batch update)"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3",children:m.map(e=>(0,t.jsxs)("div",{className:`bg-slate-950 border rounded-lg p-4 flex items-center gap-4 transition-all ${j[e.id]?"border-indigo-500/50 bg-indigo-500/5":"border-slate-800 hover:border-slate-700"}`,children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-slate-200 flex items-center gap-2",children:[e.label,j[e.id]&&(0,t.jsx)(i,{className:"h-3 w-3 text-emerald-400"})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 font-mono mt-0.5",children:e.filename})]}),(0,t.jsxs)("div",{className:"relative group shrink-0",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:t=>((e,t)=>{if(t.target.files&&t.target.files[0]){let s=t.target.files[0];v(t=>({...t,[e]:s})),w(t=>({...t,[e]:URL.createObjectURL(s)}))}})(e.id,t),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),N[e.id]?(0,t.jsxs)("div",{className:"relative group/preview",children:[(0,t.jsx)("img",{src:N[e.id],alt:e.label,className:"h-10 w-auto max-w-[100px] object-contain rounded bg-slate-900 border border-indigo-500/30 p-1"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 group-hover/preview:bg-black/0 transition-colors rounded"})]}):(0,t.jsxs)("div",{className:"h-9 px-3 bg-slate-900 hover:bg-slate-800 border border-slate-700 text-slate-400 rounded-md flex items-center justify-center gap-2 text-xs transition-colors whitespace-nowrap",children:[(0,t.jsx)(a.Upload,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Select File"})]})]})]},e.id))})]}),k.message&&(0,t.jsxs)("div",{className:`p-3 rounded-lg text-sm flex items-center gap-2 ${"success"===k.type?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"error"===k.type?"bg-rose-500/10 text-rose-400 border border-rose-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:["success"===k.type?(0,t.jsx)(i,{className:"h-4 w-4"}):"error"===k.type?(0,t.jsx)(n.AlertCircle,{className:"h-4 w-4"}):(0,t.jsx)(d,{className:"h-4 w-4"}),k.message]}),(0,t.jsx)("button",{type:"submit",disabled:S||0===Object.keys(j).length,className:`w-full py-2.5 px-4 rounded-lg font-medium flex items-center justify-center gap-2 transition-all ${S||0===Object.keys(j).length?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-500/20"}`,children:S?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white/20 border-t-white rounded-full"}),"Processing Batch..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Save,{className:"h-4 w-4"}),"Update Selected Images (",Object.keys(j).length,")"]})})]})]})]})})}e.s(["default",()=>p],16961)}]);