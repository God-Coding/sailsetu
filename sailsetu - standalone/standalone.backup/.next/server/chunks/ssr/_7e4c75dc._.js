module.exports=[96221,a=>{"use strict";let b=(0,a.i(60137).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},25015,a=>{"use strict";let b=(0,a.i(60137).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Play",()=>b],25015)},89467,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71478),e=a.i(50944),f=a.i(79808),g=a.i(25015),h=a.i(96221);let i=(0,a.i(60137).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function j(){let{url:a,username:j,password:l,isAuthenticated:m}=(0,d.useAuth)(),n=(0,e.useRouter)(),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)([]);(0,c.useEffect)(()=>{m||n.push("/")},[m,n]);let w=async()=>{if(!o)return;r(!0),t([]),v([]);let b=[{key:"requestId",value:o}];try{t(a=>[`Launching maintenance for Request #${o}...`,...a]);let c=await fetch("/api/workflow/launch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a,username:j,password:l,workflowName:"RepairIdentityRequest",input:b})}),d=await c.json();if(d.success){if(t(a=>["Workflow completed.",...a]),d.launchResult&&d.launchResult.attributes){let a=d.launchResult.attributes.find(a=>"maintenanceLog"===a.key);if(a&&a.value){let b=a.value.split("\n");t(a=>[...b.reverse(),...a])}}}else t(a=>[`Error: ${d.error||"Workflow failed"}`,...a])}catch(a){t(b=>[`Exception: ${a.message}`,...b])}finally{r(!1)}};return m?(0,b.jsxs)("main",{className:"min-h-screen bg-slate-950 p-8 text-slate-100 font-sans selection:bg-indigo-500/30",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-full h-[500px] bg-gradient-to-b from-blue-950/20 to-transparent pointer-events-none"}),(0,b.jsxs)("div",{className:"max-w-5xl mx-auto relative z-10",children:[(0,b.jsxs)("div",{className:"mb-8 border-b border-white/5 pb-6",children:[(0,b.jsxs)("h1",{className:"text-3xl font-extrabold bg-gradient-to-r from-teal-400 to-emerald-400 bg-clip-text text-transparent flex items-center gap-3",children:[(0,b.jsx)(f.Wrench,{className:"h-8 w-8 text-emerald-400"}),"Request Maintenance (ID Scope)"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-2",children:"Targeted repair for specific Access Requests. Enter the Request ID (e.g., '00000002') to inspect and repair."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"md:col-span-1 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-white/10 p-6 rounded-2xl shadow-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Access Request ID"}),(0,b.jsx)("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 text-white outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"e.g. 0000002",value:o,onChange:a=>p(a.target.value)}),(0,b.jsxs)("button",{onClick:w,disabled:q||!o,className:"w-full mt-6 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold py-3 px-4 rounded-xl shadow-lg shadow-emerald-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[q?(0,b.jsx)(h.Loader2,{className:"h-5 w-5 animate-spin"}):(0,b.jsx)(g.Play,{className:"h-5 w-5 fill-current"}),"Inspect & Repair"]})]}),(0,b.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-xl text-sm text-blue-300",children:[(0,b.jsxs)("h4",{className:"font-bold flex items-center gap-2 mb-2",children:[(0,b.jsx)(i,{className:"h-4 w-4"}),"What this does:"]}),(0,b.jsxs)("ul",{className:"list-disc pl-4 space-y-1 opacity-80",children:[(0,b.jsx)("li",{children:"Scans active Identity Requests for the user."}),(0,b.jsx)("li",{children:"Checks underlying Provisioning Projects."}),(0,b.jsx)("li",{children:"Attempts to advance stuck workflows."}),(0,b.jsx)("li",{children:"Terminates hung requests if applicable."})]})]})]}),(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsxs)("div",{className:"bg-black/40 border border-white/10 rounded-2xl flex flex-col h-[500px]",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-white/10 bg-slate-900/60 flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(k,{className:"h-4 w-4 text-slate-400"}),"Execution Logs"]}),q&&(0,b.jsx)("span",{className:"text-xs text-emerald-400 animate-pulse",children:"Running analysis..."})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-auto p-4 space-y-2 font-mono text-xs custom-scrollbar",children:[0===s.length&&(0,b.jsx)("div",{className:"text-slate-600 italic text-center mt-20",children:"Ready to inspect. Enter an identity to begin."}),s.map((a,c)=>(0,b.jsx)("div",{className:`p-2 rounded border-l-2 ${a.toLowerCase().includes("error")||a.toLowerCase().includes("exception")?"border-rose-500 bg-rose-500/5 text-rose-300":a.toLowerCase().includes("success")||a.toLowerCase().includes("fixed")?"border-emerald-500 bg-emerald-500/5 text-emerald-300":"border-slate-700 text-slate-300"}`,children:a},c))]})]})})]})]})]}):null}function k({className:a}){return(0,b.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("polyline",{points:"4 17 10 11"}),(0,b.jsx)("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]})}a.s(["default",()=>j],89467)}];

//# sourceMappingURL=_7e4c75dc._.js.map